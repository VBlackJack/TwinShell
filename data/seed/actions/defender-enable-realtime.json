{
  "id": "defender-enable-realtime",
  "title": "Activer/D√©sactiver la protection temps r√©el Defender",
  "description": "Active ou d√©sactive la protection en temps r√©el de Windows Defender.",
  "category": "üîí Security & Encryption",
  "platform": 0,
  "level": 2,
  "tags": [
    "defender",
    "realtime",
    "protection"
  ],
  "windowsCommandTemplateId": "defender-enable-realtime-cmd",
  "windowsCommandTemplate": {
    "id": "defender-enable-realtime-cmd",
    "platform": 0,
    "name": "Set-MpPreference",
    "commandPattern": "Set-MpPreference -DisableRealtimeMonitoring ${enableDisable}",
    "parameters": [
      {
        "name": "enableDisable",
        "label": "Activer ou d√©sactiver",
        "type": "string",
        "defaultValue": "$false",
        "required": true,
        "description": "$false pour activer, $true pour d√©sactiver"
      }
    ]
  },
  "examples": [
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $false",
      "description": "Active la protection temps r√©el",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $true",
      "description": "‚ö†Ô∏è D√©sactive la protection temps r√©el (DANGEREUX - syst√®me non prot√©g√©!)",
      "platform": 0
    },
    {
      "command": "Get-MpComputerStatus | Select-Object RealTimeProtectionEnabled",
      "description": "V√©rifie si la protection temps r√©el est active",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $true; Start-Sleep 300; Set-MpPreference -DisableRealtimeMonitoring $false",
      "description": "D√©sactive temporairement pour 5 minutes puis r√©active automatiquement",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $Enable -WhatIf",
      "description": "Simulation de l'action sans ex√©cution r√©elle (dry-run). Le switch -WhatIf affiche ce qui serait modifi√© sans appliquer les changements. INDISPENSABLE avant toute action de masse ou modification critique. Retirez -WhatIf apr√®s validation pour ex√©cuter.",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $Enable -Confirm:$false",
      "description": "Ex√©cute l'action sans demander de confirmation interactive. -Confirm:$false supprime les invites de validation. Utile dans les scripts automatis√©s mais √† utiliser avec pr√©caution : aucun filet de s√©curit√©.",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $Enable -PassThru",
      "description": "Force la commande √† retourner l'objet modifi√©/cr√©√© dans le pipeline. Par d√©faut, les cmdlets Set-/New- ne retournent rien. -PassThru active le retour pour permettre des op√©rations en cha√Æne ou des v√©rifications imm√©diates.",
      "platform": 0
    },
    {
      "command": "Set-MpPreference -DisableRealtimeMonitoring $Enable -Verbose",
      "description": "Affiche des informations d√©taill√©es sur l'ex√©cution de la commande. -Verbose active les messages de d√©bogage pour comprendre pr√©cis√©ment ce qui se passe. Essentiel pour le troubleshooting et la compr√©hension des op√©rations internes.",
      "platform": 0
    }
  ],
  "notes": "‚ö†Ô∏è S√âCURIT√â CRITIQUE: Ne d√©sactivez JAMAIS la protection temps r√©el sauf pour d√©pannage temporaire! Votre syst√®me est VULN√âRABLE sans cette protection. DisableRealtimeMonitoring $true = D√âSACTIVE (dangereux). $false = ACTIVE (recommand√©). Sur Windows 10/11, la protection peut se r√©activer automatiquement.",
  "links": [
    {
      "title": "Set-MpPreference Documentation",
      "url": "https://learn.microsoft.com/en-us/powershell/module/defender/set-mppreference"
    }
  ]
}