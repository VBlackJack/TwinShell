{
  "id": "network-test-connection",
  "title": "Tester la connectivit√© r√©seau",
  "description": "Teste la connectivit√© r√©seau vers une adresse IP ou un nom d'h√¥te.",
  "category": "üåê Network & DNS",
  "platform": 2,
  "level": 0,
  "tags": [
    "network",
    "ping",
    "connectivity",
    "diagnostic"
  ],
  "windowsCommandTemplateId": "network-test-connection-windows-cmd",
  "windowsCommandTemplate": {
    "id": "network-test-connection-windows-cmd",
    "platform": 0,
    "name": "Test-Connection",
    "commandPattern": "Test-Connection -ComputerName {target} -Count {count}",
    "parameters": [
      {
        "name": "target",
        "label": "Cible",
        "type": "string",
        "defaultValue": "",
        "required": true,
        "description": "Adresse IP ou nom d'h√¥te √† tester"
      },
      {
        "name": "count",
        "label": "Nombre de paquets",
        "type": "int",
        "defaultValue": "4",
        "required": false,
        "description": "Nombre de requ√™tes ping √† envoyer"
      }
    ]
  },
  "linuxCommandTemplateId": "network-test-connection-linux-cmd",
  "linuxCommandTemplate": {
    "id": "network-test-connection-linux-cmd",
    "platform": 1,
    "name": "ping",
    "commandPattern": "ping -c {count} {target}",
    "parameters": [
      {
        "name": "target",
        "label": "Cible",
        "type": "string",
        "defaultValue": "",
        "required": true,
        "description": "Adresse IP ou nom d'h√¥te √† tester"
      },
      {
        "name": "count",
        "label": "Nombre de paquets",
        "type": "int",
        "defaultValue": "4",
        "required": false,
        "description": "Nombre de requ√™tes ping √† envoyer"
      }
    ]
  },
  "examples": [],
  "notes": "Un pare-feu peut bloquer les requ√™tes ICMP. Utiliser -t (Windows) ou sans -c (Linux) pour ping continu.",
  "links": [],
  "windowsExamples": [
    {
      "command": "Test-Connection -ComputerName google.com -Count 4",
      "description": "Envoie 4 paquets ICMP (ping) vers google.com. √âquivalent PowerShell de 'ping'. Retourne le temps de r√©ponse, le TTL et le statut. Le param√®tre -Count limite le nombre de paquets (par d√©faut : 4). Utile pour v√©rifier la connectivit√© Internet basique.",
      "platform": 0
    },
    {
      "command": "Test-Connection -ComputerName 192.168.1.1 -Count 1 -Quiet",
      "description": "Test de connectivit√© rapide qui retourne uniquement $true ou $false. Le switch -Quiet supprime tous les d√©tails et retourne un bool√©en simple. Parfait pour les scripts de monitoring : if (Test-Connection -ComputerName server01 -Quiet) { ... }",
      "platform": 0
    },
    {
      "command": "Test-Connection -ComputerName server01,server02,server03 -Count 2",
      "description": "Teste plusieurs h√¥tes simultan√©ment. -ComputerName accepte un tableau de noms/IPs. PowerShell teste tous les h√¥tes en parall√®le, ce qui est beaucoup plus rapide que des commandes s√©quentielles. Id√©al pour v√©rifier rapidement la disponibilit√© d'une liste de serveurs.",
      "platform": 0
    },
    {
      "command": "Test-Connection -ComputerName 8.8.8.8 -Count 100 -Delay 1",
      "description": "Test de connectivit√© prolong√© avec 100 paquets espac√©s de 1 seconde. Utile pour diagnostiquer des probl√®mes intermittents, mesurer la stabilit√© de la connexion et d√©tecter les pertes de paquets. Laissez tourner pendant le troubleshooting.",
      "platform": 0
    },
    {
      "command": "Test-Connection -ComputerName server01 -Source DC01",
      "description": "Ex√©cute le ping depuis un ordinateur distant (DC01 vers server01). N√©cessite WinRM activ√© et des droits admin sur la source. Utile pour tester la connectivit√© entre deux serveurs distants sans s'y connecter physiquement.",
      "platform": 0
    },
    {
      "command": "Get-Content C:\\servers.txt | ForEach-Object {Test-Connection $_ -Count 1 -Quiet} | Where-Object {$_ -eq $false}",
      "description": "Lit une liste de serveurs depuis un fichier et identifie lesquels sont inaccessibles. Get-Content charge le fichier ligne par ligne. Test-Connection -Quiet retourne $true/$false. Where-Object filtre les √©checs. Parfait pour les v√©rifications quotidiennes de disponibilit√©.",
      "platform": 0
    },
    {
      "command": "Test-Connection -ComputerName google.com -Count 4 | Select-Object Address,ResponseTime | Format-Table -AutoSize",
      "description": "Affiche uniquement l'adresse et le temps de r√©ponse dans un tableau propre. Select-Object filtre les colonnes pertinentes. Format-Table -AutoSize optimise l'affichage. Utile pour des rapports de performance r√©seau lisibles.",
      "platform": 0
    }
  ],
  "linuxExamples": [
    {
      "command": "ping -c 10 srv-web-01.contoso.com",
      "description": "Exemple Linux utilisant ping. Remplacez les param√®tres entre <> par vos valeurs.",
      "platform": 1
    },
    {
      "command": "ping -c 4 google.com",
      "description": "Envoyer 4 pings √† Google",
      "platform": 1
    },
    {
      "command": "ping -c 10 -i 0.5 192.168.1.1",
      "description": "Ping rapide (0.5s intervalle)",
      "platform": 1
    },
    {
      "command": "ping -W 2 -c 3 server.local",
      "description": "Ping avec timeout de 2 secondes",
      "platform": 1
    },
    {
      "command": "ping -f -c 100 localhost",
      "description": "Flood ping (100 paquets rapides)",
      "platform": 1
    },
    {
      "command": "ping google.com",
      "description": "Ping continu vers google.com (s'arr√™te avec Ctrl+C). Envoie des paquets ICMP jusqu'√† interruption manuelle. Affiche le temps de r√©ponse, le TTL et les statistiques. Utile pour surveiller la stabilit√© d'une connexion en temps r√©el.",
      "platform": 1
    },
    {
      "command": "ping -c 100 -s 1024 server01",
      "description": "Test avec des paquets de 1024 octets (au lieu des 64 par d√©faut). Le flag -s (size) modifie la taille des paquets. Utile pour tester la MTU (Maximum Transmission Unit) et d√©tecter les probl√®mes de fragmentation sur le r√©seau.",
      "platform": 1
    },
    {
      "command": "ping -W 2 -c 4 192.168.1.100",
      "description": "Ping avec un timeout de 2 secondes par paquet. Le flag -W (timeout) d√©finit le d√©lai d'attente maximum. Utile pour d√©tecter rapidement les h√¥tes down sans attendre le timeout par d√©faut (peut √™tre tr√®s long).",
      "platform": 1
    },
    {
      "command": "ping -q -c 10 google.com",
      "description": "Mode quiet : n'affiche que les statistiques finales (pas chaque paquet). Le flag -q (quiet) r√©duit l'output. Utile dans les scripts pour ne r√©cup√©rer que le r√©sum√© (paquets perdus, temps min/max/moy).",
      "platform": 1
    },
    {
      "command": "ping -f google.com",
      "description": "Flood ping : envoie des paquets aussi vite que possible (n√©cessite root). Le flag -f (flood) ne laisse aucun d√©lai entre les paquets. ATTENTION : √† utiliser uniquement pour les tests de performance/stress sur VOS propres serveurs. Peut √™tre consid√©r√© comme une attaque DoS sur des syst√®mes tiers.",
      "platform": 1
    },
    {
      "command": "ping -s 1500 -M do 10.0.0.1",
      "description": "Test MTU avec paquets de 1500 octets",
      "platform": 1
    },
    {
      "command": "ping -c 10 -i 0.2 192.168.1.1",
      "description": "Ping rapide",
      "platform": 1
    },
    {
      "command": "ping6 -c 4 ipv6.google.com",
      "description": "Ping IPv6",
      "platform": 1
    }
  ]
}