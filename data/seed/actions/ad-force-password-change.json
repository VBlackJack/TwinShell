{
  "id": "ad-force-password-change",
  "title": "Forcer le changement de mot de passe √† la prochaine connexion",
  "description": "Force un utilisateur √† changer son mot de passe lors de sa prochaine connexion.",
  "category": "üè¢ Active Directory & GPO",
  "platform": 0,
  "level": 1,
  "tags": [
    "ad",
    "password",
    "security",
    "user"
  ],
  "windowsCommandTemplateId": "ad-force-password-change-cmd",
  "windowsCommandTemplate": {
    "id": "ad-force-password-change-cmd",
    "platform": 0,
    "name": "Set-ADUser",
    "commandPattern": "Set-ADUser -Identity {username} -ChangePasswordAtLogon $true",
    "parameters": [
      {
        "name": "username",
        "label": "Nom d'utilisateur",
        "type": "string",
        "defaultValue": "",
        "required": true,
        "description": "SamAccountName de l'utilisateur"
      }
    ]
  },
  "examples": [
    {
      "command": "Set-ADAccountPassword -Identity jdupont -Reset -NewPassword (ConvertTo-SecureString 'TempP@ss2024!' -AsPlainText -Force) -PassThru | Set-ADUser -ChangePasswordAtLogon $true",
      "description": "R√©initialise le mot de passe ET force l'utilisateur √† le changer √† la prochaine connexion. Le switch -PassThru passe l'objet utilisateur au pipeline. Set-ADUser -ChangePasswordAtLogon $true active le flag de changement obligatoire. C'est la m√©thode recommand√©e pour les r√©initialisations : l'admin d√©finit un mot de passe temporaire, l'utilisateur le change imm√©diatement.",
      "platform": 0
    },
    {
      "command": "Set-ADAccountPassword -Identity jdupont -OldPassword (ConvertTo-SecureString 'OldP@ss' -AsPlainText -Force) -NewPassword (ConvertTo-SecureString 'NewP@ss123!' -AsPlainText -Force)",
      "description": "Change le mot de passe en connaissant l'ancien (sans droits admin). Utilisez -OldPassword quand l'utilisateur change son propre mot de passe ou quand la politique exige la connaissance de l'ancien. Sans -Reset, cette commande n√©cessite les droits de l'utilisateur concern√© mais pas de droits admin.",
      "platform": 0
    }
  ],
  "notes": "L'utilisateur devra obligatoirement changer son mot de passe √† sa prochaine connexion.",
  "links": []
}